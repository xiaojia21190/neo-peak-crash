#    ============================================
# Neon Peak Crash 环境变量配置
# ============================================
# 复制此文件为 .env.local 并填写实际值

# ============================================
# NextAuth 认证配置 (必填)
# ============================================
# NextAuth 加密密钥 (生成命令: openssl rand -base64 32)
AUTH_SECRET="your-auth-secret-key-here"

# 信任主机 (Vercel 部署必须设置为 true)
AUTH_TRUST_HOST=true

# 网站 URL (用于 OAuth 回调)
NEXTAUTH_URL="http://localhost:3000"

# ============================================
# Linux DO OAuth2 登录配置 (必填)
# ============================================
# 在 https://connect.linux.do 申请应用后获取
# 回调地址: https://your-domain.com/api/auth/callback/linux-do
LINUXDO_CLIENT_ID="your_linuxdo_client_id"
LINUXDO_CLIENT_SECRET="your_linuxdo_client_secret"

# OAuth2 端点 (一般无需修改，使用默认值即可)
# LINUXDO_AUTHORIZATION_URL="https://connect.linux.do/oauth2/authorize"
# LINUXDO_TOKEN_URL="https://connect.linux.do/oauth2/token"
# LINUXDO_USERINFO_URL="https://connect.linux.do/api/user"

# ============================================
# Linux DO Credit 支付配置 (必填)
# ============================================
# 在 https://credit.linux.do 创建应用后获取
# 回调地址: https://your-domain.com/api/payment/notify
LDC_CLIENT_ID="your_ldc_client_id"
LDC_CLIENT_SECRET="your_ldc_client_secret"

# 支付网关地址 (一般无需修改)
LDC_GATEWAY="https://credit.linux.do/epay"

# LDC API 代理地址 (可选，用于绕过 Cloudflare)
# LDC_PROXY_URL=""

# ============================================
# Rate Limit (optional)
# ============================================
# Redis multi-instance safe rate limiting (ZSET sliding window).
# When Redis is unavailable, it falls back to in-memory per process.

# Enable/disable Redis-based rate limiting (default: true)
# RATE_LIMIT_REDIS_ENABLED=true

# Redis key prefix for bet rate limiting (default: "rate:bet:")
# RATE_LIMIT_REDIS_PREFIX="rate:bet:"

# Sliding window size in ms (default: 1000)
# RATE_LIMIT_WINDOW_MS=1000

# ============================================
# Game Engine Performance (optional)
# ============================================
# Redis price write sampling interval in ms (default: 50)
# REDIS_SAMPLE_MS=50

# Maximum active bets per round (default: 10000)
# MAX_ACTIVE_BETS=10000

# Tick bucketing time window in seconds (default: 2)
# BUCKET_WINDOW=2

# Maximum price snapshot queue size (default: 10000)
# MAX_SNAPSHOT_QUEUE=10000

# ============================================
# WebSocket CORS (optional)
# ============================================
# Comma-separated list of allowed origins for WebSocket connections
# Default: http://localhost:3000
# WS_CORS_ORIGIN="http://localhost:3000,https://your-domain.com"
